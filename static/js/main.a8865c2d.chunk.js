(this["webpackJsonptopsis-react"]=this["webpackJsonptopsis-react"]||[]).push([[0],{108:function(e,t){},156:function(e,t){},157:function(e,t){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(14),r=a.n(i),c=a(221),s=a(224),o=a(223),l=a(164),d=a(225),u=a(16),b=a(13),j=a(7),m=a(227),h=a(222),f=a(226),O=a(44),p=a(214),x=a(218),g=a(217),v=a(211),y=a(215),w=a(216),N=a(120),C=a(6);function S(e){return Object(C.jsx)(v.a,{component:N.a,children:Object(C.jsxs)(p.a,{"aria-label":"a dense table",children:[Object(C.jsx)(y.a,{children:Object(C.jsx)(w.a,{children:[{name:"Crit\xe9rio",attribute:"criterionName"},{name:"Tipo",attribute:"type"},{name:"Peso (%)",attribute:"weight"},{name:"Remover"}].map((function(e,t){return 0==t?Object(C.jsx)(g.a,{children:e.name},e.name):Object(C.jsx)(g.a,{align:"center",children:e.name},e.name)}))})}),Object(C.jsx)(x.a,{children:e.rows.map((function(t,a){return Object(C.jsxs)(w.a,{children:[Object(C.jsx)(g.a,{component:"th",scope:"row",children:t.criterionName}),Object(C.jsx)(g.a,{align:"center",children:1==t.type?"Custo":"Benef\xedcio"}),Object(C.jsx)(g.a,{align:"center",children:t.weight}),Object(C.jsx)(g.a,{align:"center",children:Object(C.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function(){return e.removeRow(a)},children:" Remover"})})]},t.criterionName)}))})]})})}var R=a(26),k=a(127),q=a(59),A=a(95),F=a(39),M=a(96),B=a(25),G=Object(B.a)((function(e){return{formControl:{margin:e.spacing(0,1),minWidth:150},button:{margin:e.spacing(1,0)},form:{margin:e.spacing(2,0)}}}));function I(e){var t={criterionName:"",weight:0,type:1},a=G(),i=Object(n.useState)(t),r=Object(j.a)(i,2),c=r[0],s=r[1],o=function(e){var t=e.target,a=t.name,n=t.value;s(Object(b.a)(Object(b.a)({},c),{},Object(R.a)({},a,n)))},l=c.criterionName,u=c.weight,m=c.type;return Object(C.jsxs)("form",{disabled:!0,className:a.form,children:[Object(C.jsxs)(d.a,{display:"flex",flexDirection:"row",children:[Object(C.jsx)(k.a,{disabled:e.disabled,required:!0,name:"criterionName",className:a.input,label:"Crit\xe9rio",variant:"filled",value:l,onChange:o}),Object(C.jsxs)(q.a,{disabled:e.disabled,required:!0,className:a.formControl,variant:"filled",children:[Object(C.jsx)(M.a,{id:"label-type",children:"Tipo"}),Object(C.jsxs)(A.a,{labelId:"label-type",name:"type",value:m,onChange:o,children:[Object(C.jsx)(F.a,{value:1,children:"Custo"}),Object(C.jsx)(F.a,{value:2,children:"Benef\xedcio"})]})]}),Object(C.jsx)(k.a,{disabled:e.disabled,required:!0,className:a.input,type:"number",name:"weight",label:"Peso (%)",variant:"filled",value:u,onChange:o})]}),Object(C.jsx)(O.a,{disabled:e.disabled,className:a.button,type:"submit",onClick:function(a){a.preventDefault(),e.handleSubmit(c),s(t)},variant:"contained",color:"primary",children:" Adicionar "})]})}var D=a(113);function P(e){return Object(C.jsx)("div",{style:{width:"100%",height:300},children:Object(C.jsx)(D.a,{rows:e.dataset,columns:e.columns,pageSize:5,loading:e.loading})})}var T=Object(B.a)((function(e){return{formControl:{margin:e.spacing(0,1),minWidth:150},input:{minWidth:100,margin:e.spacing(0,1)},button:{margin:e.spacing(1,1,1,0)},form:{margin:e.spacing(2,0)}}})),E=["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map((function(e){return"."+e})).join(",");function W(e){var t={name:""};e.fields.forEach((function(e){t[e]=""}));var a=T(),i=Object(n.useState)(t),r=Object(j.a)(i,2),c=r[0],s=r[1],o=function(t){var a=t.target,n=a.name,i=a.value;if("file-input"===n){var r=t.target.files;r&&r[0]&&e.handleFile(r[0])}else s(Object(b.a)(Object(b.a)({},c),{},Object(R.a)({},n,i)))};return Object(C.jsxs)("form",{className:a.form,children:[Object(C.jsxs)(d.a,{display:"flex",flexDirection:"row",children:[Object(C.jsx)(k.a,{disabled:e.disabled,required:!0,name:"name",label:"Nome",variant:"filled",value:c.name,onChange:o}),e.fields.map((function(t,n){return Object(C.jsx)(k.a,{disabled:e.disabled,required:!0,className:a.input,type:"number",name:t,label:t,variant:"filled",value:c[t],onChange:o},n)}))]}),Object(C.jsx)(O.a,{disabled:e.disabled,className:a.button,type:"submit",onClick:function(a){a.preventDefault(),e.handleSubmit(c),s(t)},variant:"contained",color:"primary",children:" Adicionar "}),Object(C.jsx)("input",{className:a.input,style:{display:"none"},type:"file",id:"raised-button-file",name:"file-input",accept:E,onChange:o}),Object(C.jsx)("label",{htmlFor:"raised-button-file",children:Object(C.jsx)(O.a,{disabled:e.disabled,variant:"contained",component:"span",color:"secondary",className:a.button,children:"Carregar"})})]})}var z=a(115);function J(e,t){var a,n=t.map((function(e){return e.weight})),i=function(e){return e.reduce((function(e,t){return t+e}))},r=e.map((function(t){return t.map((function(t,a){return t/Math.sqrt(function(t){return i(e.map((function(e){return Math.pow(e[t],2)})))}(a))}))})).map((function(e){return e.map((function(e,t){return n[t]*e}))})),c=[],s=[],o=Object(z.a)(t);try{var l=function(){var e=a.value,n=r.map((function(a){return a[t.indexOf(e)]})),i=Math.min.apply(Math,Object(u.a)(n)),o=Math.max.apply(Math,Object(u.a)(n));c.push(1===e.type?i:o),s.push(1===e.type?o:i)};for(o.s();!(a=o.n()).done;)l()}catch(j){o.e(j)}finally{o.f()}var d=r.map((function(e){return Math.sqrt(i(e.map((function(e,t){return Math.pow(c[t]-e,2)}))))})),b=r.map((function(e){return Math.sqrt(i(e.map((function(e,t){return Math.pow(s[t]-e,2)}))))})).map((function(e,t){return e/(d[t]+e)}));return Object(u.a)(b).sort().reverse().map((function(e){return b.indexOf(e)}))}var _=[{field:"ranking",headerName:"#",type:"number",width:60},{field:"name",headerName:"Nome",width:160}];function H(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)([]),s=Object(j.a)(c,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){var t=e.criteria.map((function(e){return{name:e.criterionName,type:e.type,weight:parseFloat(e.weight/100)}})),a=J(e.dataset.map((function(e){return Object(u.a)(t.map((function(t){return e[t.name]})))})),t);setTimeout((function(){l(a.map((function(t,a){return{id:a,name:e.dataset[t].name,ranking:a+1}}))),r(!1)}),1e3)}),[]),Object(C.jsx)(P,{loading:i,dataset:o,columns:_})}var U=a(90),V=a.n(U);var K=Object(B.a)((function(e){return{root:{margin:e.spacing(6,0,3),width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function L(e){var t=K(),a=Object(n.useState)({criteria:[],sum:0,disabledForm:!1,disableGrid:!0,disableResults:!0,dataset:[],loading:!1}),i=Object(j.a)(a,2),r=i[0],c=i[1],s=Object(n.useState)(0),o=Object(j.a)(s,2),p=o[0],x=o[1],g=["Insira os crit\xe9rios","Insira as alternativas","Veja o resulado"],v=function(e){var t=r.sum+parseInt(e.weight);c(Object(b.a)(Object(b.a)({},r),{},{criteria:[].concat(Object(u.a)(r.criteria),[Object(b.a)(Object(b.a)({},e),{},{weight:parseInt(e.weight)})]),sum:t,disabledForm:t>=100,disableGrid:!1}))},y=function(e,t){var a=Object(b.a)({},e);return a.name=a.Nome,delete a.Nome,Object(b.a)(Object(b.a)({},a),{},{name:a.name,id:t+r.dataset.length})},w=function(e){c(Object(b.a)(Object(b.a)({},r),{},{dataset:[].concat(Object(u.a)(r.dataset),[Object(b.a)(Object(b.a)({},e),{},{id:r.dataset.length})]),disableResults:!1}))},N=function(e){c(Object(b.a)(Object(b.a)({},r),{},{loading:!0}));var t=new FileReader,a=!!t.readAsBinaryString;t.onload=function(e){var t=e.target.result,n=V.a.read(t,{type:a?"binary":"array"}),i=n.SheetNames[0],s=n.Sheets[i],o=V.a.utils.sheet_to_json(s,{header:0});console.log(o.map(y)),c(Object(b.a)(Object(b.a)({},r),{},{dataset:o.map(y),disableResults:!1,loading:!1}))},a?t.readAsBinaryString(e):t.readAsArrayBuffer(e)};var R=function(e){var t=r.sum-parseInt(r.criteria[e].weight);c(Object(b.a)(Object(b.a)({},r),{},{criteria:Object(u.a)(r.criteria.filter((function(t,a){return a!==e}))),sum:t,disabledForm:t>=100,disableGrid:0===t}))};return Object(n.useEffect)((function(){c(Object(b.a)(Object(b.a)({},r),{},{criteria:[{criterionName:"Pre\xe7o",type:1,weight:10},{criterionName:"Hardware",type:2,weight:20},{criterionName:"Performance",type:2,weight:70}],disableGrid:!1,disableResuls:!0}))}),[]),Object(C.jsxs)(d.a,{className:t.root,children:[Object(C.jsx)(m.a,{activeStep:p,children:g.map((function(e,t){return Object(C.jsx)(h.a,Object(b.a)(Object(b.a)({},{}),{},{children:Object(C.jsx)(f.a,Object(b.a)(Object(b.a)({},{}),{},{children:e}))}),e)}))}),p===g.length?Object(C.jsxs)("div",{children:[Object(C.jsx)(l.a,{className:t.instructions,children:"Todas as etapas completadas"}),Object(C.jsx)(O.a,{onClick:function(){x(0)},className:t.button,children:"Reset"})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:function(e){switch(e){case 0:return Object(C.jsxs)(d.a,{children:[Object(C.jsx)(S,{rows:r.criteria,removeRow:R}),Object(C.jsx)(I,{disabled:r.disabledForm,handleSubmit:v})]});case 1:return Object(C.jsxs)(d.a,{children:[Object(C.jsx)(P,{dataset:r.dataset,disable:r.disableGrid,columns:(t=r.criteria,[{field:"name",headerName:"Nome",width:200}].concat(Object(u.a)(t.map((function(e){return{field:e.criterionName,headerName:[].concat(Object(u.a)(e.criterionName[0].toUpperCase()),[e.criterionName.slice(1)]),type:"number",width:160}}))))),loading:r.loading}),Object(C.jsx)(W,{fields:r.criteria.map((function(e){return e.criterionName})),disabled:r.disableGrid,handleSubmit:w,handleFile:N})]});case 2:return Object(C.jsx)(d.a,{children:Object(C.jsx)(H,{dataset:r.dataset,disable:r.disableResults,criteria:r.criteria})});default:return Object(C.jsx)(l.a,{children:"Etapa desconhecida"})}var t}(p)}),Object(C.jsxs)("div",{children:[Object(C.jsx)(O.a,{disabled:0===p,onClick:function(){x((function(e){return e-1}))},className:t.button,children:"Back"}),Object(C.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){x((function(e){return e+1}))},disabled:0==p&&r.disableGrid||1==p&&r.disableResults,className:t.button,children:p===g.length-1?"Finalizar":"Pr\xf3ximo"})]})]})]})}var Q=function(){return Object(C.jsx)(o.a,{maxWidth:"md",children:Object(C.jsxs)(d.a,{my:4,children:[Object(C.jsx)(l.a,{variant:"h4",component:"h1",children:"TOPSIS React"}),Object(C.jsx)(L,{})]})})},X=a(79),Y=a(46),Z=Object(Y.a)({palette:{primary:{main:"#2364AA"},secondary:{main:"#3DA5D9"},error:{main:X.a.A400},background:{default:"#fff"}}});r.a.render(Object(C.jsxs)(c.a,{theme:Z,children:[Object(C.jsx)(s.a,{}),Object(C.jsx)(Q,{})]}),document.querySelector("#root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.a8865c2d.chunk.js.map