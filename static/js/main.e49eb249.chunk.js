(this["webpackJsonptopsis-react"]=this["webpackJsonptopsis-react"]||[]).push([[0],{114:function(e,t){},115:function(e){e.exports=JSON.parse('{"INSERTCRITERIA":"Insira os crit\xe9rios","INSERTDATASET":"Insira as alternativas","SEERESULTS":"Veja o resultado","TITLE":"TOPSIS React","BUTTON_NEXT":"Pr\xf3ximo","BUTTON_FINISH":"Finalizar","BUTTON_BACK":"Voltar","DATA_COLUMN_NAME":"Nome","DATA_COLUMN_CRITERION":"Crit\xe9rio","DATA_COLUMN_TYPE":"Tipo","DATA_COLUMN_WEIGHT":"Peso","CRITERION_TYPE_COST":"Custo","CRITERION_TYPE_BENEFIT":"Benef\xedcio","BUTTONS_REMOVE":"Remove","BUTTONS_LOAD":"Carregar","BUTTONS_ADD":"Adicionar","UNKNOWN_STEP":"Etapa desconhecida","ALL_STEPS_COMPLETED":"Todas as etapas completadas"}')},116:function(e){e.exports=JSON.parse('{"INSERTCRITERIA":"Insert your criteria","INSERTDATASET":"Insert your dataset","SEERESULTS":"See the results","TITLE":"TOPSIS React","BUTTON_NEXT":"Next","BUTTON_FINISH":"Finish","BUTTON_BACK":"Back","DATA_COLUMN_NAME":"Name","DATA_COLUMN_CRITERION":"Criterion","DATA_COLUMN_TYPE":"Type","DATA_COLUMN_WEIGHT":"Weight","CRITERION_TYPE_COST":"Cost","CRITERION_TYPE_BENEFIT":"Benefit","BUTTONS_REMOVE":"Remove","BUTTONS_LOAD":"Load","BUTTONS_ADD":"Add","UNKNOWN_STEP":"Unknown Step","ALL_STEPS_COMPLETED":"All steps completed"}')},173:function(e,t){},174:function(e,t){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(14),r=a.n(i),c=a(238),s=a(243),l=a(242),o=a(241),d=a(239),u=a(181),b=a(244),O=a(16),j=a(15),m=a(7),T=a(247),h=a(240),f=a(245),p=a(46),N=a(231),E=a(235),x=a(234),_=a(228),A=a(232),g=a(233),S=a(97),v=a(246),I=a(6);function C(e){var t=Object(v.a)(),a=t.t,n=(t.i18n,[{name:a("DATA_COLUMN_CRITERION"),attribute:"criterionName"},{name:a("DATA_COLUMN_TYPE"),attribute:"type"},{name:a("DATA_COLUMN_WEIGHT")+" (%)",attribute:"weight"},{name:a("BUTTONS_REMOVE")}]);return Object(I.jsx)(_.a,{component:S.a,children:Object(I.jsxs)(N.a,{"aria-label":"a dense table",children:[Object(I.jsx)(A.a,{children:Object(I.jsx)(g.a,{children:n.map((function(e,t){return 0===t?Object(I.jsx)(x.a,{children:e.name},e.name):Object(I.jsx)(x.a,{align:"center",children:e.name},e.name)}))})}),Object(I.jsx)(E.a,{children:e.rows.map((function(t,n){return Object(I.jsxs)(g.a,{children:[Object(I.jsx)(x.a,{component:"th",scope:"row",children:t.criterionName}),Object(I.jsx)(x.a,{align:"center",children:1===t.type?a("CRITERION_TYPE_COST"):a("CRITERION_TYPE_BENEFIT")}),Object(I.jsx)(x.a,{align:"center",children:t.weight}),Object(I.jsx)(x.a,{align:"center",children:Object(I.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return e.removeRow(n)},children:" Remover"})})]},t.criterionName)}))})]})})}var R=a(31),y=a(138),U=a(63),D=a(101),w=a(42),M=a(102),L=a(29),B=Object(L.a)((function(e){return{formControl:{margin:e.spacing(0,1),minWidth:150},button:{margin:e.spacing(1,0)},form:{margin:e.spacing(2,0)}}}));function P(e){var t={criterionName:"",weight:0,type:1},a=B(),i=Object(n.useState)(t),r=Object(m.a)(i,2),c=r[0],s=r[1],l=Object(v.a)(),o=l.t,d=(l.i18n,function(e){var t=e.target,a=t.name,n=t.value;s(Object(j.a)(Object(j.a)({},c),{},Object(R.a)({},a,n)))}),u=c.criterionName,O=c.weight,T=c.type;return Object(I.jsxs)("form",{disabled:!0,className:a.form,onSubmit:function(a){a.preventDefault(),e.handleSubmit(c),s(t)},children:[Object(I.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(y.a,{disabled:e.disabled,required:!0,name:"criterionName",className:a.input,label:o("DATA_COLUMN_CRITERION"),variant:"filled",value:u,onChange:d}),Object(I.jsxs)(U.a,{disabled:e.disabled,required:!0,className:a.formControl,variant:"filled",children:[Object(I.jsx)(M.a,{id:"label-type",children:o("DATA_COLUMN_TYPE")}),Object(I.jsxs)(D.a,{labelId:"label-type",name:"type",value:T,onChange:d,children:[Object(I.jsx)(w.a,{value:1,children:o("CRITERION_TYPE_COST")}),Object(I.jsx)(w.a,{value:2,children:o("CRITERION_TYPE_BENEFIT")})]})]}),Object(I.jsx)(y.a,{disabled:e.disabled,required:!0,className:a.input,type:"number",name:"weight",label:o("DATA_COLUMN_WEIGHT")+" (%)",variant:"filled",value:O,onChange:d})]}),Object(I.jsxs)(p.a,{disabled:e.disabled,className:a.button,type:"submit",variant:"contained",color:"primary",children:[" ",o("BUTTONS_ADD")," "]})]})}var F=a(123);function k(e){return Object(I.jsx)("div",{style:{width:"100%",height:300},children:Object(I.jsx)(F.a,{rows:e.dataset,columns:e.columns,pageSize:5,loading:e.loading})})}var G=Object(L.a)((function(e){return{formControl:{margin:e.spacing(0,1),minWidth:150},input:{minWidth:100,margin:e.spacing(0,1)},button:{margin:e.spacing(1,1,1,0)},form:{margin:e.spacing(2,0)}}})),W=["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map((function(e){return"."+e})).join(",");function Y(e){var t={name:""};e.fields.forEach((function(e){t[e]=""}));var a=G(),i=Object(n.useState)(t),r=Object(m.a)(i,2),c=r[0],s=r[1],l=Object(v.a)(),o=l.t,d=(l.i18n,function(t){var a=t.target,n=a.name,i=a.value;if("file-input"===n){var r=t.target.files;r&&r[0]&&e.handleFile(r[0])}else s(Object(j.a)(Object(j.a)({},c),{},Object(R.a)({},n,i)))});return Object(I.jsxs)("form",{className:a.form,onSubmit:function(a){a.preventDefault(),e.handleSubmit(c),s(t)},children:[Object(I.jsxs)(b.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(y.a,{disabled:e.disabled,required:!0,name:"name",label:o("DATA_COLUMN_NAME"),variant:"filled",value:c.name,onChange:d}),e.fields.map((function(t,n){return Object(I.jsx)(y.a,{disabled:e.disabled,required:!0,className:a.input,type:"number",name:t,label:t,variant:"filled",value:c[t],onChange:d},n)}))]}),Object(I.jsxs)(p.a,{disabled:e.disabled,className:a.button,type:"submit",variant:"contained",color:"primary",children:[" ",o("BUTTONS_ADD")," "]}),Object(I.jsx)("input",{className:a.input,style:{display:"none"},type:"file",id:"raised-button-file",name:"file-input",accept:W,onChange:d}),Object(I.jsx)("label",{htmlFor:"raised-button-file",children:Object(I.jsx)(p.a,{disabled:e.disabled,variant:"contained",component:"span",color:"secondary",className:a.button,children:o("BUTTONS_LOAD")})})]})}var q=a(125);function H(e,t){var a,n=t.map((function(e){return e.weight})),i=function(e){return e.reduce((function(e,t){return t+e}))},r=e.map((function(t){return t.map((function(t,a){return t/Math.sqrt(function(t){return i(e.map((function(e){return Math.pow(e[t],2)})))}(a))}))})).map((function(e){return e.map((function(e,t){return n[t]*e}))})),c=[],s=[],l=Object(q.a)(t);try{var o=function(){var e=a.value,n=r.map((function(a){return a[t.indexOf(e)]})),i=Math.min.apply(Math,Object(O.a)(n)),l=Math.max.apply(Math,Object(O.a)(n));c.push(1===e.type?i:l),s.push(1===e.type?l:i)};for(l.s();!(a=l.n()).done;)o()}catch(b){l.e(b)}finally{l.f()}var d=r.map((function(e){return Math.sqrt(i(e.map((function(e,t){return Math.pow(c[t]-e,2)}))))})),u=r.map((function(e){return Math.sqrt(i(e.map((function(e,t){return Math.pow(s[t]-e,2)}))))})).map((function(e,t){return e/(d[t]+e)}));return Object(O.a)(u).sort().reverse().map((function(e){return u.indexOf(e)}))}function K(e){var t=Object(v.a)(),a=t.t,i=(t.i18n,[{field:"ranking",headerName:"#",type:"number",width:60},{field:"name",headerName:a("DATA_COLUMN_NAME"),width:160}]),r=Object(n.useState)(!0),c=Object(m.a)(r,2),s=c[0],l=c[1],o=Object(n.useState)([]),d=Object(m.a)(o,2),u=d[0],b=d[1];return Object(n.useEffect)((function(){var t=e.criteria.map((function(e){return{name:e.criterionName,type:e.type,weight:parseFloat(e.weight/100)}})),a=H(e.dataset.map((function(e){return Object(O.a)(t.map((function(t){return e[t.name]})))})),t);setTimeout((function(){b(a.map((function(t,a){return{id:a,name:e.dataset[t].name,ranking:a+1}}))),l(!1)}),1e3)}),[e.criteria,e.dataset]),Object(I.jsx)(k,{loading:s,dataset:u,columns:i})}var V=a(94),J=a.n(V),X=a(95),z=a(62),Q=a(115),Z=a(116),$=a(128);X.a.use($.a).use(z.e).init({fallbackLng:"en",whitelist:["en","pt"],resources:{pt:{translation:Q},en:{translation:Z}},debug:!0,interpolation:{escapeValue:!1}});var ee=X.a;var te=Object(L.a)((function(e){return{root:{margin:e.spacing(6,0,3),width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function ae(e){var t=te(),a=Object(v.a)(),i=a.t,r=(a.i18n,i("DATA_COLUMN_NAME")),c=Object(n.useState)({criteria:[],sum:0,disabledForm:!1,disableGrid:!0,disableResults:!0,dataset:[],loading:!1}),s=Object(m.a)(c,2),l=s[0],o=s[1],d=Object(n.useState)(0),N=Object(m.a)(d,2),E=N[0],x=N[1],_=["INSERTCRITERIA","INSERTDATASET","SEERESULTS"],A=function(e){var t=l.sum+parseInt(e.weight);o(Object(j.a)(Object(j.a)({},l),{},{criteria:[].concat(Object(O.a)(l.criteria),[Object(j.a)(Object(j.a)({},e),{},{weight:parseInt(e.weight)})]),sum:t,disabledForm:t>=100,disableGrid:!1}))},g=function(e,t){var a=Object(j.a)({},e);return a.name=a[r],delete a[r],Object(j.a)(Object(j.a)({},a),{},{name:a.name,id:t+l.dataset.length})},S=function(e){o(Object(j.a)(Object(j.a)({},l),{},{dataset:[].concat(Object(O.a)(l.dataset),[Object(j.a)(Object(j.a)({},e),{},{id:l.dataset.length})]),disableResults:!1}))},R=function(e){o(Object(j.a)(Object(j.a)({},l),{},{loading:!0}));var t=new FileReader,a=!!t.readAsBinaryString;t.onload=function(e){var t=e.target.result,n=J.a.read(t,{type:a?"binary":"array"}),i=n.SheetNames[0],r=n.Sheets[i],c=J.a.utils.sheet_to_json(r,{header:0});console.log(c.map(g)),o(Object(j.a)(Object(j.a)({},l),{},{dataset:c.map(g),disableResults:!1,loading:!1}))},a?t.readAsBinaryString(e):t.readAsArrayBuffer(e)};var y=function(e){var t=l.sum-parseInt(l.criteria[e].weight);o(Object(j.a)(Object(j.a)({},l),{},{criteria:Object(O.a)(l.criteria.filter((function(t,a){return a!==e}))),sum:t,disabledForm:t>=100,disableGrid:0===t}))};return Object(I.jsxs)(b.a,{className:t.root,children:[Object(I.jsx)(T.a,{activeStep:E,children:_.map((function(e,t){return Object(I.jsx)(h.a,Object(j.a)(Object(j.a)({},{}),{},{children:Object(I.jsx)(f.a,Object(j.a)(Object(j.a)({},{}),{},{children:i(e)}))}),e)}))}),E===_.length?Object(I.jsxs)("div",{children:[Object(I.jsx)(u.a,{className:t.instructions,children:i("ALL_STEPS_COMPLETED")}),Object(I.jsx)(p.a,{onClick:function(){x(0)},className:t.button,children:"Reset"})]}):Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:function(e){switch(e){case 0:return Object(I.jsxs)(b.a,{children:[Object(I.jsx)(C,{rows:l.criteria,removeRow:y}),Object(I.jsx)(P,{disabled:l.disabledForm,handleSubmit:A})]});case 1:return Object(I.jsxs)(b.a,{children:[Object(I.jsx)(k,{dataset:l.dataset,disable:l.disableGrid,columns:(t=l.criteria,[{field:"name",headerName:ee.t("DATA_COLUMN_NAME"),width:200}].concat(Object(O.a)(t.map((function(e){return{field:e.criterionName,headerName:[].concat(Object(O.a)(e.criterionName[0].toUpperCase()),[e.criterionName.slice(1)]),type:"number",width:160}}))))),loading:l.loading}),Object(I.jsx)(Y,{fields:l.criteria.map((function(e){return e.criterionName})),disabled:l.disableGrid,handleSubmit:S,handleFile:R})]});case 2:return Object(I.jsx)(b.a,{children:Object(I.jsx)(K,{dataset:l.dataset,disable:l.disableResults,criteria:l.criteria})});default:return Object(I.jsx)(u.a,{children:i("UNKNOWN_STEP")})}var t}(E)}),Object(I.jsxs)("div",{children:[Object(I.jsx)(p.a,{disabled:0===E,onClick:function(){x((function(e){return e-1}))},className:t.button,children:i("BUTTON_BACK")}),Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){x((function(e){return e+1}))},disabled:0==E&&l.disableGrid||1==E&&l.disableResults,className:t.button,children:E===_.length-1?i("BUTTON_FINISH"):i("BUTTON_NEXT")})]})]})]})}var ne=Object(L.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,textAlign:"center"}}}));var ie=function(){var e=ne(),t=Object(v.a)().t;return Object(I.jsxs)(b.a,{className:e.root,children:[Object(I.jsx)(o.a,{position:"static",children:Object(I.jsx)(d.a,{children:Object(I.jsx)(n.Suspense,{fallback:"loading...",children:Object(I.jsx)(u.a,{variant:"h6",className:e.title,component:"h1",children:t("TITLE")})})})}),Object(I.jsx)(l.a,{maxWidth:"md",children:Object(I.jsx)(ae,{})})]})},re=a(85),ce=a(49),se=Object(ce.a)({palette:{primary:{main:"#2364AA"},secondary:{main:"#3DA5D9"},error:{main:re.a.A400},background:{default:"#fff"}}});r.a.render(Object(I.jsxs)(c.a,{theme:se,children:[Object(I.jsx)(s.a,{}),Object(I.jsx)(n.Suspense,{fallback:null,children:Object(I.jsx)(ie,{})})]}),document.querySelector("#root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.e49eb249.chunk.js.map